import { promptAction } from '@kit.ArkUI'

export interface  videoItemType {
  img: string
  id: string
  time: string
  url: string
  txt1:string
  txt2:string
  video:string
  num1:number
  num2:number
  num3:number
}
@Entry
@Component
struct MyTieZi {
  videos:videoItemType[]=[
    {img:'app.media.video_1',id:'é†‹å›å­',time:'2024/9/20',url:'é»‘ç¥žè¯:æ‚Ÿç©º',txt1:'',txt2:'æ‘é‡Œçš„ç¬¬ä¸€ä¸ªå¤§å­¦ç”Ÿ#å•æœºæ¸¸æˆ #å‘çŽ°å¥½æ¸¸æˆ #å›½äº§æ¸¸æˆ #å°èœé¸¡ #æ¸¸æˆæ—¥å¸¸',video:'video1.mp4',num1:90,num2:87,num3:222},
    {img:'app.media.video_1',id:'é†‹å›å­',time:'2024/9/20',url:'åŽŸç¥ž',txt1:'åŽŸæ¥ä½ ä¹ŸçŽ©åŽŸç¥ž',txt2:'æˆ‘è¦çŽ©åŽŸç¥žðŸ˜–ï¼ŒæŠŠæ‰‹æœºè¿˜ç»™æˆ‘ðŸ˜­ï¼Œæˆ‘è¦çŽ©åŽŸç¥žðŸ˜­',video:'video2.mp4',num1:1,num2:150,num3:4},
    {img:'app.media.video_1',id:'é†‹å›å­',time:'2024/9/21',url:'æ°¸åŠ«æ— é—´',txt1:'ä»Šå¤©æ‰“æ°¸åŠ«æ— é—´äº†å—',txt2:'ç½‘æ˜“æ˜¯æœ€æ‡‚çŽ©å®¶çš„æ¸¸æˆå…¬å¸#æ¸¸æˆæ—¥å¸¸#æ°¸åŠ«æ— é—´æ‰‹æ¸¸#æ°¸åŠ«æ— é—´#å‘çŽ°å¥½æ¸¸æˆ',video:'video3.mp4',num1:1,num2:3,num3:4},
    {img:'app.media.video_1',id:'é†‹å›å­',time:'2024/9/20',url:'å·…å³°æžé€Ÿ',txt1:'æˆ‘å°±æ¥å‡‘æ•°çš„ï¼Œå“ˆå“ˆå“ˆå“ˆ',txt2:'æ–°é²œçš„bug',video:'video4.mp4',num1:7,num2:9,num3:14}
  ]
  private controller:VideoController | undefined;
  private previewUris:Resource=$r('app.media.video_1');

  build() {
    Column(){
      Text('æˆ‘çš„è´´å­')
        .fontWeight(500)
        .fontSize(20)
      List(){
        ForEach(this.videos,(item:videoItemType,index:number)=>{
          ListItem(){
            Column({space:5}){
              Row(){
                Image($r(item.img))
                  .width(40)
                  .borderRadius(20)
                Column(){
                  Row(){
                    Text(item.id)
                      .fontSize(14)
                  }
                  .width('100%')
                  Row(){
                    Text(item.time)
                      .fontSize(11)
                    Text(item.url)
                      .fontSize(11)
                      .margin({left:15})
                      .fontColor('#ff5fbcc4')
                  }
                  .width('100%')

                }
                .layoutWeight(1)
                .margin({left:10})
                Image($r('app.media.ic_more'))
                  .onClick(()=>{
                    promptAction.showActionMenu({
                      title: 'åŠŸèƒ½',
                      buttons:[
                        {
                          text: 'åˆ é™¤',
                          color: '#909399'
                        },
                        {
                          text: 'ç¼–è¾‘',
                          color: '#909399'
                        }
                      ]
                    })
                  })
                  .width(20)
                  .margin({right:20})
              }
              .width('100%')
              Column(){
                Text(item.txt1)
                  .width('100%')
                Text(item.txt2)
                  .width('100%')
                  .fontSize(12)
                  .maxLines(2)
              }
              .margin({right:10})

              //è§†é¢‘
              Row(){
                Video({
                  src:$rawfile(item.video),
                  controller:this.controller
                })
              }
              .width(350)
              .height(220)
              .margin({right:35})
              Row(){
                Image($r('app.media.video_Send'))
                  .width(20)
                Text(item.num1.toString())
                  .fontSize(16)
                Image($r('app.media.video_MoreCircle'))
                  .width(20)
                  .margin({left:80})
                Text(item.num2.toString())
                  .fontSize(16)
                Image($r('app.media.video_Heart'))
                  .width(20)
                  .margin({left:80})
                  .onClick(()=>{

                  })
                Text(item.num3.toString())
                  .fontSize(16)
              }
              .width('100%')
              .margin({left:80})
            }
            .margin({left:15,right:20,bottom:20})
            .width('100%')
          }
        })
      }

    }
    .width('100%')
  }
  @Builder
  deleteButton(index: number) {
    Button('åˆ é™¤')
      .backgroundColor('#ec5c87')
      .fontColor('#fff')
      .width(80)
      .height('100%')
      .type(ButtonType.Normal)
      .onClick(() => {

      })
  }
}